<div class="paypal_button col-sm-12 text-center">
    <button id="checkout_paypal" class="btn btn-outline-success waves-effect waves-light blue darken-3"
        onclick="sendSMS('/sms', 'Hello World from my mobile app!!!');"><i class="fab fa-cc-paypal"></i> Pay with PayPal <i
            class="fab fa-cc-paypal"></i></button>
<br>
<hr>
<br>

<a href="https://twitter.com/intent/tweet?button_hashtag=MuleQuest100&ref_src=twsrc%5Etfw" class="twitter-hashtag-button" data-show-count="false">Tweet #MuleQuest100</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<div class="fb-like" data-href="https://www.facebook.com/MuleQuest-113225556881638/?modal=admin_todo_tour" data-width="100" data-layout="standard" data-action="like" data-size="small" data-share="true"></div>

<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v5.0&appId=188843395572787&autoLogAppEvents=1"></script>

<script src="https://apis.google.com/js/platform.js"></script>
<div class="g-ytsubscribe" data-channel="GoogleDevelopers" data-layout="default" data-count="default"></div>

<script async defer src="//assets.pinterest.com/js/pinit.js"></script>
<a data-pin-do="buttonFollow" href="https://www.pinterest.com/pinterest/">Pinterest</a>

</div>

<script language="JavaScript">

    // SERVER_URL is based on a config file/system variable "server_url"...
    //const SERVER_URL = 'http://localhost:3000/services/oic';


    const SERVER_URL = "http://140.238.66.176:30971";

    window.onload = function () {

        console.log("SERVER_URLis [" + SERVER_URL + "]");

        if (SERVER_URL == null || SERVER_URL == undefined) {
            alert("SERVER URL is not set properly.");
        }
    }


    function loadOICInstances() {

        $.getJSON(SERVER_URL, function (result) {
            console.log("Result is [" + JSON.stringify(result) + "]");
            var rowHtml = "";
            for (var i = 0; i < result.services.length; ++i) {

                name = result.services[i].name;
                state = result.services[i].state;
                dbName = result.services[i].dbName;
                dbState = result.services[i].dbState;
                isDisabled = (state.toUpperCase() != "STOPPED" && state.toUpperCase() != "READY") || (dbState.toUpperCase() != "STOPPED" &&
                    dbState.toUpperCase() != "READY") ? "disabled" : "";
                isChecked = state.toUpperCase() == "STARTING" || state.toUpperCase() == "READY" || dbState.toUpperCase() == "STARTING" ||
                    dbState.toUpperCase() == "READY" ? "checked" : "";

                console.log("Setting nEnv" + i + "to [" + name + "]");
                console.log("Setting sEnv" + i + "to [" + state + "]");
                console.log("Setting dbName" + i + "to [" + dbName + "]");
                console.log("Setting dbState" + i + "to [" + dbState + "]");

                // document.getElementById('nEnv' + i).innerText = result.services[i].name;
                // document.getElementById('sEnv' + i).innerText = result.services[i].state;

                if (i == 0) {
                    rowHtml = '<tr><th><center>Service Name</center></th><th><center>State</center></th></tr>';
                }

                rowHtml += '<input type="hidden" id="dbName' + i + '" value="' + dbName + '"/><input type="hidden" id="dbState' + i + '" value="' + dbState + '"/><tr><td id="nEnv' + i + '">' + name + '</td><td><center><label class="switch"><input id="s' + i + '" type="checkbox" onchange="changeState(' + i + ');" ' + isDisabled + ' ' + isChecked + '><span class="slider round"></span></label><br><label id="sEnv' + i + '">OIC: ' + state + '<br>DB: ' + dbState + '</label></center></td></tr>';
            }

            document.getElementById('services').innerHTML = rowHtml;



        })
    }
    function sendSMS(endpoint, msg) {

        fullURL = SERVER_URL + endpoint;
        console.log("Invoking URL [" + fullURL + "]");

        body = {

            to: "61449588440",
            msg: msg
        };

        postAPI(fullURL, body);

    }

    function postAPI(url, data) {

        $.post(url, data, function (data, status) {
            console.log(`Respone from POST API is [${data}] and status is [${status}]`);
        });
    }

</script>